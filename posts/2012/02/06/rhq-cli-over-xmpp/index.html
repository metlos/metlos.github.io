<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Reinventing The Wheel</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <style>
      body {
        padding-top: 60px;
      }
    </style>
    <link href="http://lukas.krejci.pw/stylesheets/styles.css" rel="stylesheet" type="text/css">
    <link href="http://lukas.krejci.pw/stylesheets/font-awesome/font-awesome.css" rel="stylesheet" type="text/css">
    <script src="http://lukas.krejci.pw/javascripts/lightbox.min.js" type="text/javascript"></script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="nav navbar-brand" href="http://lukas.krejci.pw" title="Reinventing The Wheel">
            <i class="fa fa-refresh"></i>
            <i class="fa fa-cog"></i>
          </a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="http://lukas.krejci.pw/posts" title="Blog">
                <i class="fa fa-pencil"></i>
              </a>
            </li>
            <li>
              <a href="http://lukas.krejci.pw/about" title="About">
                <i class="fa fa-info"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container" role="main">
      <div class="post-navigation">
        <div class="previous">
          <div class="label">
            &laquo;
          </div>
          <div class="nav-link">
            <a href="/posts/2012/01/13/git-merging-after-a-revert/">Git - merging after a revert</a>
          </div>
        </div>
        <div class="next">
          <div class="nav-link">
            <a href="/posts/2012/02/06/securing-rhino-in-java6/">Securing Rhino in Java6</a>
          </div>
          <div class="label">
            &raquo;
          </div>
        </div>
      </div>
      <h1 class="title">
        RHQ CLI over XMPP
      </h1>
      <div class="author">
        posted on
        <span class="date">
          06 Feb 2012
        </span>
      </div>
      <div class="tags">
        <a class="label label-info" href="http://lukas.krejci.pw/posts/tags/java/">java</a>
        <a class="label label-info" href="http://lukas.krejci.pw/posts/tags/rhq/">rhq</a>
        <a class="label label-info" href="http://lukas.krejci.pw/posts/tags/xmpp/">xmpp</a>
        <a class="label label-info" href="http://lukas.krejci.pw/posts/tags/scripting/">scripting</a>
      </div>
      <div class="paragraph">
      <p>I watched the great demo of the <a href="http://vimeo.com/35730049">XMPP server
      plugin</a> for RHQ from Rafael Chies. Rafael is using a custom DSL to query
      the RHQ server for information but I thought that that really shouldn&#8217;t
      be necessary - it should be possible to use an ordinary CLI session
      behind this. Granted - the "query language" of our remote API is more
      complicated than the simple DSL Rafael is using but at the same time,
      the API we use in the CLI is much more feature rich and I wouldn&#8217;t have
      to reimplement any of it if I was able to "blend" the CLI session with
      the XMPP chat.</p>
      </div>
      <div class="paragraph">
      <p>So I forked Rafale&#8217;s code on <a href="https://github.com/metlos/rhq-xmpp">github</a>
      and went off to work. During the course of reimplementing Rafael&#8217;s code
      I discovered 2 bugs in RHQ itself
      (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=786106">BZ 786106</a> and
      <a href="https://bugzilla.redhat.com/show_bug.cgi?id=786194">BZ 786194</a>) which I
      fixed immediately (well, it took me a couple of hours to figure out what
      the hell was going on there ;) ). After that, it wasn&#8217;t really that hard
      to integrate XMPP and the CLI&#8217;s script engine and here&#8217;s a short video
      to prove that it actually works :-) :</p>
      </div>
      <div class="paragraph">
      <p><a href="http://vimeo.com/36274198">RHQ CLI over XMPP</a> on <a href="http://vimeo.com">Vimeo</a>.</p>
      </div>
      <div class="paragraph">
      <p>For the interested, all the important code is included in
      <a href="https://github.com/metlos/rhq-xmpp/blob/master/src/main/java/org/rhq/enterprise/server/plugins/xmpp/receiver/XMPPReceiver.java">this
      class</a>.</p>
      </div>
      
                  <div id="disqus_thread"></div>
                  <script type="text/javascript">
                  var disqus_shortname = 'lukaskrejcipw';
                  var disqus_url = "http://lukas.krejci.pw/posts/2012/02/06/rhq-cli-over-xmpp/";
                  var disqus_developer = null;
                  var disqus_identifier = "bd2747c8df2b1adfb8aefa5c3df4c70b10dc4f9e";
                  (function() {
                    var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                    dsq.src = "http://lukaskrejcipw.disqus.com/embed.js";
                    (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                  })();
                  </script>
                  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lukaskrejcipw">comments powered by Disqus.</a></noscript>
      <hr>
      <footer>
        <div class="links">
          <a href="http://lukas.krejci.pw/blog.atom">
            <i class="fa fa-rss"></i>
          </a>
          <a href="https://plus.google.com/+lukaskrejci/">
            <i class="fa fa-google-plus"></i>
          </a>
          <a href="https://twitter.com/@krejcil">
            <i class="fa fa-twitter"></i>
          </a>
          <a href="https://www.linkedin.com/profile/view?id=45241872">
            <i class="fa fa-linkedin"></i>
          </a>
        </div>
        <p>&copy; Lukáš Krejčí 2014</p>
      </footer>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="http://lukas.krejci.pw/javascripts/bootstrap/collapse.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-56804098-1']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
